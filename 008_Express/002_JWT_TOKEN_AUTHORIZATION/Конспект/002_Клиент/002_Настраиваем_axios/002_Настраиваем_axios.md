# Настраиваем axios

Начну стого что создам файловую структуру проекта. И для этого создам несколько папок.

1. **store** - буду взаимодействовать с глобальным хранилищем с помощью mobx
2. **http** - настроим axios
3. **service** - будут функции с запросами на сервер
4. **components** - здесь думаю понятно.

Начну с папки **http** и в ней сразу создадим **index.ts**.

Импортирую **axios** и далее создаю инстанс **axios**. В начале переменной я указываю **$**. с помощью функции **create** у **axios** мы этот инстанс создаем. И здесь мы можем сразу задать некоторые настройки.

Для того что бы к каждому запросу **cookie** у нас цеплялись автоматически вот этому полю мы присваиваем значение **withCredentials: true**.

```ts
//  http index.ts

import axios from 'axios';

const $api = axios.create({
  withCredentials: true, // автоматический подхват cookie
});
```

Так же задам базовый **URL** по которому этот инстанс **axios** будет слать запрос **export const API_URL = \`http://localhost:5000\`;**

И в качестве базового **baseURL** указываем эту переменную **API_URL**.

```js
//  http index.ts

import axios from 'axios';

export const API_URL = `http://localhost:5000`;

const $api = axios.create({
  withCredentials: true, // автоматический подхват cookie
  baseURL: API_URL, // базовый URL
});
```

Теперь когда мы с помощью этого инстанса будем отправлять запросы нам не надо будет каждый раз указывать адрес.
